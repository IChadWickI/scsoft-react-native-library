{"version":3,"sources":["KycSdkPlugin.ts"],"names":["RNKYCLibrary","NativeModules","KycSdkPlugin","idFrontPhoto","_isIdFrontPhotoWaiting","_isIdBackPhotoWaiting","_isSelfiePhotoWaiting","_isHeadPoseWaiting","_isNfcWaiting","scanResult","startIDCardFrontActivity","IdFrontPhotoDetails","error","console","idBackPhoto","showKycSdkIdBackPhotoActivity","IdBackPhotoDetails","selfiePhoto","showKycSdkSelfiePhotoActivity","SelfiePhotoDetails","nfcRead","nfcOptions","showKycSdkNfcActivity","NfcDetails","headPose","headPoseOptions","direction","showKycSdkHeadPoseActivity","HeadPoseDetails"],"mappings":"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","sourcesContent":["import { NativeModules } from 'react-native';\n\nconst { RNKYCLibrary } = NativeModules;\nimport {IdFrontPhotoDetails} from '../models/IdFrontPhotoDetails';\nimport {IdBackPhotoDetails} from '../models/id_back_photo_details';\nimport {SelfiePhotoDetails} from '../models/selfie_photo_details';\nimport {NfcDetails} from '../models/nfc_details';\nimport {NfcOptions} from '../models/nfc_options';\nimport {HeadPoseDetails} from '../models/head_pose_details';\nimport {HeadPoseOptions} from '../models/head_pose_options';\n\n\nclass KycSdkPlugin {\n    static _idFrontPhoto = 'id_front_photo';\n    static _idBackPhoto = 'id_back_photo';\n    static _selfiePhoto = 'selfie_photo';\n    static _headPose = 'head_pose';\n    static _nfc = 'nfc';\n    static _isIdFrontPhotoWaiting = false;\n    static _isHeadPoseWaiting = false;\n    static _isIdBackPhotoWaiting = false;\n    static _isSelfiePhotoWaiting = false;\n    static _isNfcWaiting = false;\n  \n    static async idFrontPhoto(): Promise<IdFrontPhotoDetails | null> {\n      if (this._isIdFrontPhotoWaiting ||\n        this._isIdBackPhotoWaiting ||\n        this._isSelfiePhotoWaiting ||\n        this._isHeadPoseWaiting ||\n        this._isNfcWaiting\n      ) {\n        return null;\n      }\n      this._isIdFrontPhotoWaiting = true;\n  \n      try {\n        // Yerel modül üzerinden idFrontPhoto fonksiyonunu çağır.\n        const scanResult = await RNKYCLibrary.startIDCardFrontActivity();\n        this._isIdFrontPhotoWaiting = false;\n        if (scanResult) {\n          // scanResult'ı IdFrontPhotoDetails nesnesine dönüştür\n          return new IdFrontPhotoDetails(scanResult);\n        }\n      } catch (error) {\n        console.error('Error fetching ID front photo:', error);\n        this._isIdFrontPhotoWaiting = false;\n      }\n  \n      return null;\n    }\n\n    static async idBackPhoto(): Promise<IdBackPhotoDetails | null> {\n      if (this._isIdFrontPhotoWaiting ||\n        this._isIdBackPhotoWaiting ||\n        this._isSelfiePhotoWaiting ||\n        this._isHeadPoseWaiting ||\n        this._isNfcWaiting\n      ) {\n        return null;\n      }\n      this._isIdBackPhotoWaiting = true;\n  \n      try {\n        // Yerel modül üzerinden idFrontPhoto fonksiyonunu çağır.\n        const scanResult = await RNKYCLibrary.showKycSdkIdBackPhotoActivity();\n        this._isIdBackPhotoWaiting = false;\n        if (scanResult) {\n          // scanResult'ı IdFrontPhotoDetails nesnesine dönüştür\n          return new IdBackPhotoDetails(scanResult);\n        }\n      } catch (error) {\n        console.error('Error fetching ID back photo:', error);\n        this._isIdFrontPhotoWaiting = false;\n      }\n  \n      return null;\n    }\n\n    static async selfiePhoto(): Promise<SelfiePhotoDetails | null> {\n      if (this._isIdFrontPhotoWaiting ||\n        this._isIdBackPhotoWaiting ||\n        this._isSelfiePhotoWaiting ||\n        this._isHeadPoseWaiting ||\n        this._isNfcWaiting\n      ) {\n        return null;\n      }\n      this._isSelfiePhotoWaiting = true;\n\n      try {\n        const scanResult = await RNKYCLibrary.showKycSdkSelfiePhotoActivity();\n        this._isSelfiePhotoWaiting = false;\n        if (scanResult) {\n          return new SelfiePhotoDetails(scanResult);\n        }\n      } catch (error) {\n        console.error('Error fetching Selfie:', error);\n        this._isIdFrontPhotoWaiting = false;\n      }\n  \n      return null;\n    }\n\n    static async nfcRead(nfcOptions :NfcOptions): Promise<NfcDetails | null> {\n      if (this._isIdFrontPhotoWaiting ||\n        this._isIdBackPhotoWaiting ||\n        this._isSelfiePhotoWaiting ||\n        this._isHeadPoseWaiting ||\n        this._isNfcWaiting\n      ) {\n        return null;\n      }\n      this._isNfcWaiting = true;\n\n      try {\n\n        const scanResult = await RNKYCLibrary.showKycSdkNfcActivity(nfcOptions);\n        this._isNfcWaiting = false;\n        if (scanResult) {\n          return new NfcDetails(scanResult);\n        }\n      } catch (error) {\n        console.error('Error fetching NFC Read  :', error);\n        this._isIdFrontPhotoWaiting = false;\n      }\n  \n      return null;\n    }\n\n    static async headPose(headPoseOptions : HeadPoseOptions): Promise<HeadPoseDetails | null> {\n      if (this._isIdFrontPhotoWaiting ||\n        this._isIdBackPhotoWaiting ||\n        this._isSelfiePhotoWaiting ||\n        this._isHeadPoseWaiting ||\n        this._isNfcWaiting\n      ) {\n        return null;\n      }\n      this._isNfcWaiting = true;\n\n      try {\n\n        const headPoseOptions = {\n          direction: \"left\"\n        };\n        \n        const scanResult = await RNKYCLibrary.showKycSdkHeadPoseActivity(headPoseOptions);\n        this._isHeadPoseWaiting = false;\n        if (scanResult) {\n          return new HeadPoseDetails(scanResult);\n        }\n      } catch (error) {\n        console.error('Error fetching HeadPose  :', error);\n        this._isHeadPoseWaiting = false;\n      }\n  \n      return null;\n    }\n\n\n\n  }\n  \n  export default KycSdkPlugin;"]}